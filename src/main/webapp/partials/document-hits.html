<div class="ui image">
    <div class="ui blue ribbon label">{{doc._source.type}}</div>
    
    <a ng-if="doc._source.hasthumbnail" target="_blank" href="{{doc._source.uri}}">
        <img alt="{{doc._source.title}}" class="small image" src="{{doc._source.hasthumbnail}}">
    </a>
    
    <div ng-if="doc._source.hasthumbnail" class="ui bottom attached label marcus pushup">
        <div style="text-align: left;">{{doc._source.identifier}}<br>
        <i>{{doc._source.cataloguer}}</i></div>
        <div class="ui ms-corner">
            <i ng-show='doc._source.showweb == "true"' class="circular inverted green unlock icon"></i>
            <i ng-show='doc._source.showweb == "false"' class="circular inverted red lock icon"></i>
            <i ng-show='doc._source.showweb == undefined' class="circular inverted help icon"></i>
            <i style="right: 2em;" ng-show='doc._source.haszoom == "Med DeepZoom"' class="circular inverted orange zoom icon"></i>
            <!--<i ng-show='doc._source.haszoom == "Uten DeepZoom"' class="circular inverted red lock icon"></i>
            <i ng-show='doc._source.haszoom == undefined' class="circular inverted help icon"></i>-->
        </div>
    </div>
    <i ng-if="!doc._source.hasthumbnail" class="ui bordered inverted grey icon massive camera retro"></i>
    <div ng-if="!doc._source.hasthumbnail" class="ui ms-corner">
            <i ng-show='doc._source.showweb == "true"' class="circular inverted green unlock icon"></i>
            <i ng-show='doc._source.showweb == "false"' class="circular inverted red lock icon"></i>
            <i ng-show='doc._source.showweb == undefined' class="circular inverted help icon"></i>
            <i style="right: 2em;" ng-show='doc._source.haszoom == "Med DeepZoom"' class="circular inverted orange zoom icon"></i>
            <!--<i ng-show='doc._source.haszoom == "Uten DeepZoom"' class="circular inverted red lock icon"></i>
            <i ng-show='doc._source.haszoom == undefined' class="circular inverted help icon"></i>-->
        </div>
    
</div>

<div class="content">
    <a class="header" target="_blank" href="{{doc._source.uri}}">{{doc._source.title|| "Uten tittel"}}</a>
    <div class="meta">
        <div ng-if="isString(doc._source.maker)">
            <i class="ui icon user"></i><span>{{doc._source.maker}}</span>
        </div>
        <div ng-if="isArray(doc._source.maker)">
            <div class="ui horizontal list">
                <div ng-repeat="maker in doc._source.maker track by $index" class="item">
                    <i class="ui icon user"></i><span>{{maker}}</span>
                </div>
            </div>
        </div>
    </div>
    <div class="description">
        <p ng-bind-html="doc._source.description | unsafe"></p>
    </div>
    <hr>
    <div class="extra">
        <div ng-if="isString(doc._source.ispartof)">
            <div class="content"><i class="ui icon archive"></i><span>{{doc._source.ispartof}}</span> </div>
        </div>
        <div ng-if="isArray(doc._source.ispartof)">
            <div class="ui horizontal list">
                <div ng-repeat="ispartof in doc._source.ispartof track by $index" class="item">
                    <div class="content"><i class="ui icon archive"></i><span>{{ispartof}}</span> </div>
                </div>
            </div>
        </div>
        <div ng-if="isString(doc._source.spatial)">
            <div class="content"><i class="ui icon point"></i><span>{{doc._source.spatial}}</span> </div>
        </div>
        <div ng-if="isArray(doc._source.spatial)">
            <div class="ui horizontal list">
                <div ng-repeat="spatials in doc._source.spatial track by $index" class="item">
                    <div class="content"><i class="ui icon point"></i><span>{{spatials}}</span> </div>
                </div>
            </div>
        </div>
        <div ng-if="isString(doc._source.subject)">
            <div ng-show="doc._source.subject" class="ui basic segment">
                <span class="ui tag label">{{doc._source.subject}}</span>
            </div>        
        </div>
        <div ng-if="isArray(doc._source.subject)">
            <div ng-show="doc._source.subject" class="ui basic segment">
                <span ng-repeat="subject in doc._source.subject track by $index" class="ui tag label relaxed">{{subject}}</span>
            </div>
        </div>        

        <div>
            <div>
                <div class="ui horizontal list events">
                    <!--<div class="item event dateDigitized">
                        <img src="img/noun_16508_cc.svg">
                        <span class="year{{from_date| date:'yyyy'}}"></span>
                        <span>{{from_date|| '&infin;'}}</span>
                    </div>-->
                    <div ng-if="from_date" class="item event dateDigitized">
                        <img style="width: 20px;" src="img/noun_16508_cc.svg">
                        <span class="year{{from_date| date:'yyyy'}}"></span>
                        <span>Fra: {{from_date| date:'yyyy'}}</span>
                    </div>
                    <div ng-if="doc._source.created" class="item event dateDigitized">
                        <img style="width: 20px;" src="img/noun_173850_cc.svg">
                        <span class="year{{doc._source.created| date:'yyyy'}}"></span>
                        <span>{{doc._source.created | date:"d. MMM yyyy"}}</span>
                    </div>
                    <div ng-if="doc._source.madeafter" class="item event dateDigitized">
                        <img style="width: 20px;" src="img/noun_346838_cc.svg">
                        <span class="year{{doc._source.madeafter| date:'yyyy'}}"></span>
                        <span>{{doc._source.madeafter | date:"d. MMM yyyy"}}</span>
                    </div>
                    <div ng-if="doc._source.madeafter || doc._source.madebefore" class="item event dateDigitized">
                        <img style="width: 40px; margin-top: 5px;" src="img/noun_212152_cc.svg">
                    </div>
                    <div ng-if="doc._source.madebefore" class="item event dateDigitized">
                        <span class="year{{doc._source.madebefore| date:'yyyy'}}"></span>
                        <span>{{doc._source.madebefore | date:"d. MMM yyyy"}}</span>
                        <img style="width: 20px;" src="img/noun_346839_cc.svg">
                    </div>
                    <div ng-if="doc._source.available" class="item event dateDigitized">
                        <img style="width: 20px;" src="img/noun_250439_cc.svg">
                        <span class="year{{doc._source.available| date:'yyyy'}}"></span>
                        <span>{{doc._source.available | date:"d. MMM yyyy"}}</span>
                    </div>                    
                    <div ng-if="to_date" class="item event dateDigitized">
                        <span class="year{{from_date| date:'yyyy'}}"></span>
                        <span>Til: {{to_date| date:'yyyy'}}</span>
                        <img style="width: 20px;" src="img/noun_16508_cc.svg">
                    </div>
                    <!--<div class="item event now">
                        <span ng-controller="nextYear" class="year{{nextYear}}">{{nextYear}}</span>
                    </div>-->
                </div>
            </div>
        </div>
    </div>
</div>